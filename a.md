
<div dir="rtl" lang="he">

# מטלה מספר 3 – קו (Coup)

## יושרה אקדמית

במהלך העבודה על המטלות, מותר להתייעץ עם סטודנטים אחרים ולחפש מידע באינטרנט.  
עם זאת, חל איסור להעתיק קטעי קוד שלמים ממקורות חיצוניים, כולל סטודנטים אחרים, אתרי אינטרנט ומודלי בינה מלאכותית (כגון ChatGPT).

יש לדווח על כל עזרה שקיבלתם, בין אם מדובר בהתייעצות עם סטודנטים אחרים או במידע שנמצא באינטרנט, בהתאם ל[תקנון היושר של המחלקה](https://www.ariel.ac.il/wp/cs/wp-content/uploads/sites/88/2020/08/Guidelines-for-Academic-Integrity.pdf).  
**במקרה של שימוש בכלי בינה מלאכותית (AI), יש לצרף את הפרומפטים שהוזנו ואת התשובות שהתקבלו.**

---

- **מטרת המטלה:** הבנת החומר הנלמד בהרצאה החמישית והשישית כגון: כלל השלושה, ירושה רגילה וירושה וירטואלית.  
- **ההגשה ביחידים.**

---

## הוראות הגשה ב־Moodle:

יש להגיש **קובץ טקסט** (למשל `submission.txt`) המכיל 3 שורות בפורמט הבא:

1. **תעודת זהות** – מספר ת"ז של הסטודנט.  
2. **קישור להגשה** – קישור למאגר ה־GitHub שבו נמצא הפרויקט.  
3. **פרטי ה־commit האחרון** – המחרוזת המזהה של ה־commit האחרון (`commit hash`).

דוגמה לקובץ הגשה תקין:

```
123456789
https://github.com/example-user/my-assignment
e3f1c1a
```

---

## תיאור המשחק – קו (Coup)

קו הוא משחק קופסה עבור 2–6 שחקנים.  
במטלה זו נממש חלק מחוקי המשחק.

### מהלך המשחק

- בתחילת המשחק כל שחקן מקבל קלף המייצג תפקיד.  
- במרכז השולחן קופה של מטבעות.  
- כל שחקן משחק לפי תורו, בהתאם לתפקידו או לפי פעולות כלליות.  
- המטרה: לבצע הפיכות ולהדיח שחקנים.  
- השחקן האחרון שנותר – מנצח.

---

## פעולות בסיסיות במשחק

| פעולה        | תיאור | עלות | ניתן לחסימה |
|--------------|--------|------|--------------|
| **gather**   | מקבל מטבע אחד מהקופה | 0    | כן (ע"י sanction) |
| **tax**      | מקבל שני מטבעות מהקופה | 0    | כן |
| **bribe**    | מבצע פעולה נוספת בתורו | 4 מטבעות | לא |
| **arrest**   | לוקח מטבע משחקן אחר (לא פעמיים ברצף) | 0 | לא |
| **sanction** | מונע מטרה מ־gather ו־tax בתור הבא | 3 מטבעות | לא |
| **coup**     | מדיח שחקן אחר מהמשחק | 7 מטבעות | ברוב המקרים לא ניתן לחסימה |

#### הערות:
- חובה לעדכן את מצב המטבעות לאחר כל פעולה.  
- פעולה לא חוקית → יש לזרוק חריגה.  
- פונקציות נדרשות בכל שחקן:
  - `role()` – מחזירה את תפקיד השחקן.  
  - `coins()` – מחזירה את כמות המטבעות.

---

## טבלת תפקידים ויכולות

| תפקיד     | יכולות מיוחדות |
|-----------|----------------|
| **נציב (Governor)** | - לוקח 3 מטבעות במקום 2 ב־tax  
- יכול לחסום tax של אחרים |
| **מרגל (Spy)** | - רואה את מספר המטבעות של שחקן אחר  
- מונע ממנו לבצע arrest בתורו הבא |
| **ברון (Baron)** | - משקיע 3 מטבעות ומקבל 6  
- אם הותקף ב־sanction – מקבל מטבע כפיצוי |
| **גנרל (General)** | - משלם 5 מטבעות כדי למנוע coup נגד שחקן  
- אם נלקח ממנו מטבע ב־arrest – הוא מקבל אותו בחזרה |
| **שופט (Judge)** | - יכול לבטל פעולה של bribe → השחקן השני מפסיד את 4 המטבעות  
- אם הותקף ב־sanction → התוקף משלם מטבע נוסף לקופה |
| **סוחר (Merchant)** | - אם מתחיל תור עם ≥3 מטבעות → מקבל מטבע נוסף  
- ב־arrest משלם 2 לקופה במקום 1 לשחקן |

### הערות נוספות

- ייתכנו מספר שחקנים בעלי אותו תפקיד.  
- שחקן שמתחיל תור עם 10 מטבעות – חייב לבצע הפיכה.  
- פעולות חסימה אינן דורשות תור – אצלנו הן יתבצעו עד תחילת התור הבא של השחקן המותקף.

---

## לוח המשחק

יש לממש את הפונקציות הבאות:

- `turn()` – מציג את שם השחקן שבתורו כעת.  
- `players()` – מחזירה רשימת שמות השחקנים הפעילים.  
- `winner()` – מחזירה את שם המנצח (אם המשחק לא נגמר – זורקת חריגה).

---

## דרישות נוספות

- מצורף `Demo.cpp` – לדוגמה בלבד.  
- ודאו שה־repository ציבורי.  
- בראש כל קובץ יש לציין את כתובת הדוא"ל שלכם.  
- הקפידו על קוד מסודר, מודולרי, מתועד, עם בדיקות יחידה.  
- בדקו תקינות קלט וזרקו חריגות מתאימות.  
- צרו קובץ `main` המדגים שימוש במחלקות.  
- ניתן להשתמש בספריית [doctest](https://github.com/doctest/doctest).  
- יש לבדוק זליגת זיכרון באמצעות `valgrind`.  
- צרפו קובץ `README` עם הסבר על מבנה הפרויקט.

---

## קובץ Makefile

יש לכלול את הפקודות הבאות:

- `make Main` – הרצת קובץ ההדגמה  
- `make test` – הרצת בדיקות  
- `make valgrind` – בדיקת זליגות זיכרון  
- `make clean` – מחיקת קבצים זמניים

---

בהצלחה!

</div>
